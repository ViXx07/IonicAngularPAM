<ion-content>
  <ion-item>
    <ion-title>{{empresa.nombreEmpresa}}</ion-title>
    <button shape="round" fill="clear" (click)="cerrarModal()">
      <ion-icon
        color="danger"
        slot="icon-only"
        size="large"
        name="close-circle-outline"
      ></ion-icon>
    </button>
  </ion-item>
  
  <form [formGroup]="encuestaForm">
    <ion-list class="ion-text-center">
      <!--Tipo de opinión-->
      <ion-item class="ion-text-center">
        <ion-label>{{encuesta.pregunta}} </ion-label>
      </ion-item>
      <div id="emoji">
        <input
          formControlName="tipoDeOpinion"
          type="radio"
          id="feliz"
          value="1"
        /><label for="feliz">😁</label>

        <input
          formControlName="tipoDeOpinion"
          type="radio"
          id="triste"
          value="2"
        /><label for="triste">😢</label>

        <input
          formControlName="tipoDeOpinion"
          type="radio"
          id="enojado"
          value="3"
        /><label for="enojado">😡</label>

      </div>
      <!--Comentario-->
      <ion-item>
        <ion-textarea
          formControlName="comentario"
          label="Dejenos su comentario:"
          labelPlacement="stacked"
          [counter]="true"
          maxlength="100"
          helperText="Largo máximo 100"
          [counterFormatter]="customCounterFormatter"
        >
        </ion-textarea>
      </ion-item>

      <ion-item>
        <div class="botones">
          <ion-avatar *ngIf="encuestaForm.value.evidencia;else placeholder">
            <img [src]="encuestaForm.value.evidencia" />
          </ion-avatar>
          <ng-template #placeholder>
            <ion-avatar>
              <img src="../../../assets/placeholder.png" />
            </ion-avatar>
          </ng-template>
          <button
            color="primary"
            shape="round"
            fill="outline"
            (click)="evidencia()"
            >Sube tu evidencia!</button>
          <button
            color="warning"
            shape="round"
            fill="outline"
            class="enviar"
            (click)="submit()"
            [disabled]="!encuestaForm.valid"
            >Enviar</button>
        </div>

      </ion-item>
    </ion-list>
  </form>
</ion-content>
